<!-- CONTENT -->

<div mat-dialog-content>

  <div class="row mb-2">
    <h1 mat-dialog-title><span class="unit-icon fas fa-dot-circle"></span> Modificar Hidrante
      {{ unitGeneric.unit.sector ? unitGeneric.unit.sector.code : "" }}-{{ unitGeneric.unit.code }} <span
        *ngFor="let set of unitGeneric.unit.sets; let i = index"><span *ngIf="i > 0"><b>, </b></span><b>{{
          set.name }}</b></span></h1>
  </div>

  <form [formGroup]="unitGenericForm">

    <div class="row mb-2">

      <div class="col-md-4 col-12 text-center">

        <div class="col-sm mb-2" formGroupName="unit">
          <mat-checkbox class="example-margin" formControlName="active">Activo</mat-checkbox>
        </div>

        <img class="unit-image mb-3" [src]="imageURL" />
        <div>
          <button class="mb-2" type="button" mat-raised-button (click)="fileInput.click()">
            Seleccionar imagen
          </button>
        </div>

        <input hidden (change)="onFileSelected($event)" #fileInput type="file" id="file" />

        <div formGroupName="unit">
          <mat-form-field appearance="fill">
            <mat-label>Sector</mat-label>
            <mat-select [compareWith]="compareUnitGeneric" formControlName="sector">
              <mat-option *ngFor="let sector of sectors" [value]="sector">{{ sector.name }}</mat-option>
            </mat-select>
          </mat-form-field>


          <mat-form-field appearance="fill">
            <mat-label>Conjuntos</mat-label>
            <mat-select [compareWith]="compareUnitGeneric" multiple formControlName="sets">
              <mat-option *ngFor="let set of sets" [value]="set">{{
                set.name
                }}</mat-option>
            </mat-select>
          </mat-form-field>

        </div>
      </div>
      <!-- LEFT COL -->

      <div class="col-md-4 col-12" formGroupName="unit">
        <mat-form-field appearance="fill">
          <mat-label>Código</mat-label>
          <input matInput formControlName="code" type="number" required />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Altitud</mat-label>
          <input matInput type="number" formControlName="altitude" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Latitud</mat-label>
          <input matInput type="number" step=".00001" formControlName="latitude" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Longitud</mat-label>
          <input matInput type="number" step=".00001" formControlName="longitude" />
        </mat-form-field>
      </div>

      <!-- RIGHT COL -->

      <div class="col-md-4 col-12">

        <mat-form-field appearance="fill">
          <mat-label>Dato 1</mat-label>
          <input matInput type="text" formControlName="data1" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Dato 2</mat-label>
          <input matInput type="text" formControlName="data2" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Dato 3</mat-label>
          <input matInput type="text" formControlName="data3" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Dato 4</mat-label>
          <input matInput type="text" formControlName="data4" />
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Dato 5</mat-label>
          <input matInput type="text" formControlName="data5" />
        </mat-form-field>

      </div>
    </div>
    <!-- Text Area -->
    <div formGroupName="unit">
      <mat-form-field appearance="fill">
        <mat-label>Descripción</mat-label>
        <textarea matInput formControlName="description"></textarea>
      </mat-form-field>
    </div>
  </form>
</div>

<!-- ACTIONS -->
<div mat-dialog-actions>
  <button mat-raised-button mat-dialog-close>Cerrar</button>
  <button mat-raised-button color="primary" type="submit" (click)="accept()">Aceptar</button>
</div>
