<div class="fs-5">

  <div mat-dialog-content>
    <!-- head -->
    <div class="row mb-2">
      <!-- title -->
      <div (click)="openDialogImage()">
        <h1 mat-dialog-title><span class="unit-icon fas fa-faucet"></span> Hidrante
          {{ unitHydrant.unit.sector ? unitHydrant.unit.sector.code : "" }}-{{ unitHydrant.unit.code }} <span
            *ngFor="let set of unitHydrant.unit.sets; let i = index"><span *ngIf="i > 0"><b>, </b></span><b>{{
              set.name }}</b></span></h1>
      </div>

      <div class="col-md mr-3">
        <mat-checkbox class="example-margin" [checked]="unitHydrant.unit.active" disabled>Activo</mat-checkbox>
        &nbsp;&nbsp;&nbsp;&nbsp;
        <mat-checkbox class="example-margin" [checked]="unitHydrant.unit.communication" disabled>Comunicación
        </mat-checkbox>
      </div>
    </div>

    <div class="d-flex flex-row flex-wrap gap-3 mb-2">
      <div>
        Altitud: {{ unitHydrant.unit.altitude }}
      </div>
      <div>
        Latitud: {{ unitHydrant.unit.latitude }}
      </div>
      <div>
        Longitud: {{ unitHydrant.unit.longitude }}
      </div>
    </div>

    <!-- content -->
    <div class="row mb-2">
      <!-- left column -->
      <div class="col-md-6 col-12">

        <div>
          <app-pond [bouyLow]="unitHydrant.bouyLow$ | async" [bouyMedium]="unitHydrant.bouyMedium$ | async"
            [bouyHight]="unitHydrant.bouyHight$ | async" [valve]="unitHydrant.valve$ | async"></app-pond>
        </div>

      </div>

      <!-- right column -->
      <div class="col-md-6 col-12 mt-md-0 mt-4">

        <div class="row mb-2">
          <div class="col-md-6 col">
            <button class="w-100" mat-raised-button color="primary" [disabled]="(unitHydrant.valve$ | async) == 1"
              (click)="openValve()">
              Abrir
            </button>
          </div>
          <div class="col-md-6 col">
            <button class="w-100" mat-raised-button color="warn" [disabled]="(unitHydrant.valve$ | async) != 1"
              (click)="closeValve()">
              Cerrar
            </button>
          </div>
        </div>

        <div class="row mb-2">
          <div class="col-md-6 col">Caudal:</div>
          <div class="col-md-6 col fw-bold">
            {{ unitHydrant.flow$ | async }} l/s
          </div>
        </div>

        <div class="row mb-2">
          <div class="col-md-6 col">Presión:</div>
          <div class="col-md-6 col fw-bold">
            {{ unitHydrant.pressure$ | async }} bar
          </div>
        </div>

        <div class="row mb-2">
          <div class="col-md-6 col">Lectura:</div>
          <div class="col-md-6 col fw-bold">
            {{ unitHydrant.reading$ | async }} m3
          </div>
        </div>

        <div class="row mb-2">
          <div class="col-md-6 col">Lectura inicial:</div>
          <div class="col-md-6 col fw-bold">
            {{ unitHydrant.initBatch }} m3
          </div>
        </div>

        <div class="row mb-2">
          <div class="col-md-6 col">Tanda:</div>
          <div class="col-md-6 col fw-bold">
            {{ batch }} m3
          </div>
        </div>

        <div class="row mb-2">
          <button class="w-100" mat-raised-button color="warn" (click)="resetBatch()">
            Reiniciar tanda
          </button>
        </div>

        <div class="mb-2" style="max-width: 300px;">
          <span class="text-danger">Anomalías:</span><span> {{ unitHydrant.bouyWarning$ | async }}</span>
        </div>

      </div>

    </div>
  </div>



  <!-- ====================================
                     BOOTOM CONTENT
                    ==================================== -->
  <div mat-dialog-actions>
    <button mat-raised-button mat-dialog-close>Cerrar</button>
    <button mat-raised-button color="primary" (click)="openDialogHydrantCreate()" [disabled]="disabled">
      Modificar
    </button>
  </div>

</div>
